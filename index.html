<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fitness Level Predictor</title>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;

      /* FITNESS BACKGROUND IMAGE */
      background-image: url('https://images.unsplash.com/photo-1554284126-aa88f22d8b74?auto=format&fit=crop&w=1600&q=80');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      position: relative;
    }

    /* Dark overlay for readability */
    body::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.55);
      z-index: 0;
    }

    .container {
      position: relative;
      z-index: 1;
      max-width: 460px;
      margin: 80px auto;
      background: rgba(255, 255, 255, 0.9);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.25);
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
    }

    label {
      font-weight: bold;
      color: #333;
    }

    input {
      width: 100%;
      padding: 12px;
      margin: 8px 0 15px;
      border-radius: 6px;
      border: 1px solid #aaa;
      font-size: 15px;
    }

    button {
      width: 100%;
      background: #1e90ff;
      color: white;
      padding: 14px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
    }

    button:hover {
      background: #1c7ed6;
    }

    .result, .error {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      display: none;
      font-size: 15px;
    }

    .result {
      background: #d2f4d2;
      border-left: 5px solid #2e9e40;
    }

    .error {
      background: #ffd6d6;
      border-left: 5px solid #d62828;
      color: #d62828;
    }
  </style>
</head>

<body>

  <div class="container">
    <h2>üèãÔ∏è Fitness Level Predictor</h2>

    <label>Age</label>
    <input type="number" id="age" placeholder="Enter age" />

    <label>Steps</label>
    <input type="number" id="steps" placeholder="Steps per day" />

    <label>Sleep (Hours)</label>
    <input type="number" step="0.1" id="sleep" placeholder="Sleep hours" />

    <label>Water (Liters)</label>
    <input type="number" step="0.1" id="water" placeholder="Water intake" />

    <label>Workout (Minutes)</label>
    <input type="number" id="workout" placeholder="Workout minutes" />

    <button onclick="predictFitness()">Predict Fitness</button>

    <div class="result" id="result"></div>
    <div class="error" id="error"></div>
  </div>

  <script>
    async function predictFitness() {
      const age = document.getElementById("age").value;
      const steps = document.getElementById("steps").value;
      const sleep = document.getElementById("sleep").value;
      const water = document.getElementById("water").value;
      const workout = document.getElementById("workout").value;

      const resultBox = document.getElementById("result");
      const errorBox = document.getElementById("error");

      resultBox.style.display = "none";
      errorBox.style.display = "none";

      if (!age || !steps || !sleep || !water || !workout) {
        errorBox.innerHTML = "‚ö† Please fill all fields!";
        errorBox.style.display = "block";
        return;
      }

      const apiUrl = "https://kk098g7y5m.execute-api.eu-north-1.amazonaws.com/prod/predict";

      try {
        const response = await fetch(
          `${apiUrl}?age=${age}&steps=${steps}&sleep=${sleep}&water=${water}&workout=${workout}`
        );

        const data = await response.json();

        if (data.error) {
          errorBox.innerHTML = "‚ö† " + data.error;
          errorBox.style.display = "block";
          return;
        }

        resultBox.innerHTML = `
          <h3>Fitness Score: ${data.fitness_score}</h3>
          <p><strong>Category:</strong> ${data.category}</p>
        `;
        resultBox.style.display = "block";

      } catch (err) {
        errorBox.innerHTML = "‚ö† Something went wrong. Check API or CORS settings.";
        errorBox.style.display = "block";
      }
    }
  </script>

</body>
</html>
